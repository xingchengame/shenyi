import{h as u,j as I}from"./codemirror-core-DIzFijqu.js";import{t as T,K as U,c as q,m as J,e as Q,o as X,E as L,f as R,g as Y}from"./index-B0DyBq9P.js";var C=T({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1},compoundVariants:[{showSkeleton:!0,disableAnimation:!1,class:{wrapper:["before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"]}}],compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]});function ee(){const s=()=>()=>{};return u.useSyncExternalStore(s,()=>!0,()=>!1)}function re(s={}){const{onLoad:l,onError:n,ignoreFallback:i}=s,e=ee(),a=u.useRef(e?new Image:null),[c,t]=u.useState("pending");u.useEffect(()=>{a.current&&(a.current.onload=m=>{r(),t("loaded"),l==null||l(m)},a.current.onerror=m=>{r(),t("failed"),n==null||n(m)})},[a.current]);const r=()=>{a.current&&(a.current.onload=null,a.current.onerror=null,a.current=null)};return U(()=>{e&&t(ae(s,a))},[e]),i?"loaded":c}function ae(s,l){const{loading:n,src:i,srcSet:e,crossOrigin:a,sizes:c,ignoreFallback:t}=s;if(!i)return"pending";if(t)return"loaded";const r=new Image;return r.src=i,a&&(r.crossOrigin=a),e&&(r.srcset=e),c&&(r.sizes=c),n&&(r.loading=n),l.current=r,r.complete&&r.naturalWidth?"loaded":"loading"}function oe(s){var l,n;const i=q(),[e,a]=J(s,C.variantKeys),{ref:c,as:t,src:r,className:m,classNames:o,loading:h,isBlurred:w,fallbackSrc:g,isLoading:d,disableSkeleton:f=!!g,removeWrapper:Z=!1,onError:_,onLoad:$,srcSet:y,sizes:k,crossOrigin:S,...v}=e,x=re({src:r,loading:h,onError:_,onLoad:$,ignoreFallback:!1,srcSet:y,sizes:k,crossOrigin:S}),z=(n=(l=s.disableAnimation)!=null?l:i==null?void 0:i.disableAnimation)!=null?n:!1,W=x==="loaded"&&!d,j=x==="loading"||d,F=s.isZoomed,O=t||"img",E=Q(c),{w:N,h:H}=u.useMemo(()=>({w:e.width?typeof e.width=="number"?`${e.width}px`:e.width:"fit-content",h:e.height?typeof e.height=="number"?`${e.height}px`:e.height:"auto"}),[e==null?void 0:e.width,e==null?void 0:e.height]),P=(!r||!W)&&!!g,A=j&&!f,p=u.useMemo(()=>C({...a,disableAnimation:z,showSkeleton:A}),[X(a),z,A]),M=L(m,o==null?void 0:o.img),V=(b={})=>{const G=L(M,b==null?void 0:b.className);return{src:r,ref:E,"data-loaded":R(W),className:p.img({class:G}),loading:h,srcSet:y,sizes:k,crossOrigin:S,...v,style:{...(v==null?void 0:v.height)&&{height:H},...b.style,...v.style}}},D=u.useCallback(()=>{const b=P?{backgroundImage:`url(${g})`}:{};return{className:p.wrapper({class:o==null?void 0:o.wrapper}),style:{...b,maxWidth:N}}},[p,P,g,o==null?void 0:o.wrapper,N]),K=u.useCallback(()=>({src:r,"aria-hidden":R(!0),className:p.blurredImg({class:o==null?void 0:o.blurredImg})}),[p,r,o==null?void 0:o.blurredImg]);return{Component:O,domRef:E,slots:p,classNames:o,isBlurred:w,disableSkeleton:f,fallbackSrc:g,removeWrapper:Z,isZoomed:F,isLoading:j,getImgProps:V,getWrapperProps:D,getBlurredImgProps:K}}var B=Y((s,l)=>{const{Component:n,domRef:i,slots:e,classNames:a,isBlurred:c,isZoomed:t,fallbackSrc:r,removeWrapper:m,disableSkeleton:o,getImgProps:h,getWrapperProps:w,getBlurredImgProps:g}=oe({...s,ref:l}),d=I.jsx(n,{ref:i,...h()});if(m)return d;const f=I.jsx("div",{className:e.zoomedWrapper({class:a==null?void 0:a.zoomedWrapper}),children:d});return c?I.jsxs("div",{...w(),children:[t?f:d,u.cloneElement(d,g())]}):t||!o||r?I.jsxs("div",{...w(),children:[" ",t?f:d]}):d});B.displayName="HeroUI.Image";var ne=B;export{ne as i,re as u};
